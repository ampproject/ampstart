@import "../page-vars";

:root {
  --landing-title-offset-common: -0.26em; /* matches the letter-spacing */
  --landing-title-offset-h-m: -6%;
  --landing-title-offset-h-t: -32%;
  --landing-title-offset-h-d: -38%;

  --landing-page-height: 100vh;
  --landing-page-min-height: 37.5rem;

  --landing-anim-delay-start: .4s;
  --landing-anim-delay-step: .08s;

  @custom-media --breakpoint-landing-min-height (max-height: 37.4375rem); /* 720px */
}


/*******************************************************************************
 * Enter animation (image, text and cta buttons).
 * Animations keyframes are defined in ../_pages.css
 ******************************************************************************/

.lune-page--landing .landing__image {
  animation: fade-in-scale-up 2s var(--landing-anim-delay-start) ease-out both;
}

.lune-page--landing .landing__title-big,
.lune-page--landing .landing__title-small,
.lune-page--landing .lune-cta {
  animation: fade-in-move-up .8s var(--landing-anim-delay-start)
      cubic-bezier(0.41, 0.01, 0.27, 1) both;
}

.lune-page--landing .landing__title-small {
  animation-delay: calc(var(--landing-anim-delay-start) +
      var(--landing-anim-delay-step));
}

.lune-page--landing .landing__title-big--bottom-right {
  animation-delay: calc(var(--landing-anim-delay-start) +
      2 * var(--landing-anim-delay-step));
}

.lune-page--landing .lune-cta {
  animation-delay: calc(var(--landing-anim-delay-start) +
      3 * var(--landing-anim-delay-step));
}

/*******************************************************************************
 * Layout & typography
 ******************************************************************************/
.lune-page--landing {
  padding-top: 0;

  height: calc(2 * var(--landing-page-height));
}

.landing__section {
  position: relative;

  height: var(--landing-page-height);
  min-height: var(--landing-page-min-height);

  padding-top: var(--layout-header-height-m);
}

.landing__section.lune-theme--dark {
  position: fixed;
}

/*
 * Swtich back to relative position and auto height when there is not enough
 * estate in the viewport for a section to be fully displayed.
 */
@media (--breakpoint-landing-min-height) {
  .lune-page--landing {
    height: auto;
  }

  .landing__section.lune-theme--dark {
    position: relative;
  }
}

.landing__section .lune-scroll-indicator {
  position: relative;
  left: 0;
  transform: none;

  color: inherit;
}

.landing__section.lune-theme--dark .lune-scroll-indicator {
  visibility: hidden;
}

.landing__content {
  width: 60vmin;
  min-width: 17.5rem;
  max-width: 28.125rem;

  margin-bottom: 2rem;

  flex: 1 0 auto;
}

.landing__image-wrapper {
  top: calc(50% + 1rem);
  width: 100%;
}

.landing__title-big {
  display: inline-block;

  font-size: var(--h2);
}

.landing__title-big--top-left {
  left: calc(var(--landing-title-offset-common) +
      var(--landing-title-offset-h-m));
  top: 4%;

  z-index: 1;
}

.landing__title-big--bottom-right {
  right: calc(var(--landing-title-offset-common) +
      var(--landing-title-offset-h-m));
  top: 64%;
}

.landing__title-small {
  font-size: var(--h5);

  top: 39%;
  left: var(--landing-title-offset-h-m);
  right: var(--landing-title-offset-h-m);
}

@media (--breakpoint-mt) {
  .landing__section {
    padding-top: var(--layout-header-height-d);
  }

  .landing__content {
    margin-bottom: 4rem;
  }

  .landing__title-big {
    font-size: var(--h3-lg);
  }

  .landing__title-big--top-left {
    left: calc(var(--landing-title-offset-common) +
        var(--landing-title-offset-h-t));
    z-index: initial;
  }

  .landing__title-big--bottom-right {
    right: calc(var(--landing-title-offset-common) +
        var(--landing-title-offset-h-t));
  }

  .landing__section.lune-theme--dark .landing__title-big--top-left {
    left: calc(var(--landing-title-offset-common) +
        0.8 * var(--landing-title-offset-h-t));
  }

  .landing__section.lune-theme--dark .landing__title-big--bottom-right {
    right: calc(var(--landing-title-offset-common) +
        0.8 * var(--landing-title-offset-h-t));
  }

  .landing__title-small {
    font-size: var(--h5-lg);
  }
}

@media (--breakpoint-md) {
  .landing__title-big--top-left {
    left: calc(var(--landing-title-offset-common) +
        var(--landing-title-offset-h-d));
  }

  .landing__title-big--bottom-right {
    right: calc(var(--landing-title-offset-common) +
        var(--landing-title-offset-h-d));
  }
}
