/* //////////////////////////////////////////////////////
   LANDING PAGE
///////////////////////////////////////////////////////*/

@import "../page-vars";

:root {
  --lune-landing-title-offset-horizontal-narrow: -6%;
  --lune-landing-title-offset-horizontal-tablet: -32%;
  --lune-landing-title-offset-horizontal-wide: -38%;

  --lune-landing-page-height: 100vh;
  --lune-landing-page-min-height: 37.5rem; /* 600px */
}


/*******************************************************************************
 * Tweaking the delay for the entering animations defined in _pages.css
 ******************************************************************************/
.lune-landing-title-middle {
  animation-delay: calc(var(--animation-delay-start) +
      var(--animation-delay-step));
}

.lune-landing-title-bottom {
  animation-delay: calc(var(--animation-delay-start) +
      2 * var(--animation-delay-step));
}

.lune-page-landing .lune-component-cta {
  animation-delay: calc(var(--animation-delay-start) +
      3 * var(--animation-delay-step));
}

/*******************************************************************************
 * Layout & typography
 ******************************************************************************/
.lune-page-landing {
  padding-top: 0;
  height: auto;
}

.lune-landing-section {
  height: var(--lune-landing-page-height);
  min-height: var(--lune-landing-page-min-height);
}

.lune-landing-wrapper {
  top: var(--navbar-height);
}

.lune-page-landing .lune-component-cta {
  min-width: 16rem;
}

/*
 * When there is enough estate in the viewport, set a fixed height for the page
 * and fixed position on the lower section, in order to achieve a "reveal" effect.
 * Threshold is 600px, same as --lune-landing-page-height.
 */
@media (min-height: 37.5rem) {
  .lune-page-landing {
    height: calc(2 * var(--lune-landing-page-height));
  }

  .lune-landing-section.lune-theme-dark {
    position: fixed;
  }

  /*
   * Only apply this enhancement if clip-path is supported
   * and the viewport is high enough.
   */
  @supports (clip-path: inset(1px 0)) {
    .lune-landing-section.lune-theme-light {
      clip-path: url(#svgPath);
      /*
       * We need the height to be a bit more than its normal value (hence the 1.02 factor),
       * as the clip-path mask can't clip the entire surface.
       */
      height: calc(var(--lune-landing-page-height) * 1.02);
    }

    .lune-landing-wrapper {
      position: fixed;
    }
  }
}

/*
 * Because amp-img can't be resized in a responsive way through changing its height,
 * we can achieve a similar behaviour by setting the width/max-width of its container
 * in units that depend on the viewport height.
 */
.lune-landing-content {
  width: 60vmin;
  min-width: 17.5rem;
  max-width: 50vh;
}

.lune-landing-title-top {
  left: calc(var(--lune-landing-title-offset-horizontal-narrow) -
      var(--letter-spacing-3));
  top: 0%;
  font-size: var(--h0);
  letter-spacing: var(--letter-spacing-3);
  text-indent: var(--letter-spacing-3);
  line-height: var(--line-height-1);
}

.lune-landing-title-bottom {
  right: calc(var(--lune-landing-title-offset-horizontal-narrow) -
      var(--letter-spacing-3));
  top: 64%;
  font-size: var(--h0);
  letter-spacing: var(--letter-spacing-3);
  text-indent: var(--letter-spacing-3);
  line-height: var(--line-height-1);
}

.lune-landing-title-middle {
  top: 39%;
  left: var(--lune-landing-title-offset-horizontal-narrow);
  right: var(--lune-landing-title-offset-horizontal-narrow);
}

@media (--breakpoint-mt) {
  .lune-landing-wrapper {
    top: var(--wide-navbar-height);
  }

  .lune-landing-title-top {
    left: calc(var(--lune-landing-title-offset-horizontal-tablet) -
        var(--letter-spacing-3));
    z-index: initial;
  }

  .lune-landing-title-bottom {
    right: calc(var(--lune-landing-title-offset-horizontal-tablet) -
        var(--letter-spacing-3));
  }
}

@media (--breakpoint-md) {
  .lune-landing-title-top {
    left: calc(var(--lune-landing-title-offset-horizontal-wide) -
        var(--letter-spacing-3));
    font-size: var(--h00);
  }

  .lune-landing-title-bottom {
    right: var(--lune-landing-title-offset-horizontal-wide) -
        calc(var(--letter-spacing-3));
    font-size: var(--h00);
  }
}
