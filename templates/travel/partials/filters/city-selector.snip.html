{{!
<!---
Copyright 2017 The AMP Start Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS-IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
}}

<!-- City Selector -->
<amp-list
  class="travel-block-list travel-city-selector"
  layout="flex-item"
  {{> ../util/amp-list-props.snip.html}}
>
  <template type="amp-mustache">
    {{=[[ ]]=}}
      <amp-selector
        layout="container"
        name="city"
        multiple
        on="
          select:
            AMP.setState({
              ui_reset: false,
              fields_city: fields_city.includes(event.targetOption)
                ? copyAndSplice(fields_city, fields_city.indexOf(event.targetOption), 1)
                : fields_city.concat([event.targetOption]),
              fields_city_edited: true
            })
        "
        [selected]="fields_city"
      >
      <ul class="list-reset">
          {{#stats.cities}}
            <!--
              "The attribute 'option' may not appear in tag 'div'."
              see: https://github.com/ampproject/amphtml/pull/9585
            -->
            {{#isSelected}}<li option="{{name}}" selected>{{/isSelected}}
            {{^isSelected}}<li option="{{name}}">{{/isSelected}}
              <span>
                <div class="travel-city-selector-img">
                  <amp-img class="circle" layout="flex-item" src="/img/travel/city/{{img}}.jpg"></amp-img>
                </div>
                {{name}}
              </span>
            </li>
          {{/stats.cities}}
        </ul>
      </amp-selector>
    [[={{ }}=]]
  </template>
</amp-list>
<!--/ City Selector -->
